# MyLocationApp  
キャノボ用GPS連携ツイート補助アプリ  

### Overview  
自転車による東京大阪キャノンボールのために作った、Android専用のGPS連動型ツイッター投稿補助アプリです。  
一定周期でバックグラウンドサービスからGPSを呼び出し、あらかじめ準備した座標の半径内に入っていれば最新の移動履歴を更新します。  
画面上でボタンを押すと最新の移動履歴を取得して表示します。  
この時、直前の履歴と異なる場合のみ定型文をツイートするためのREST APIをコールします。  
**現時点ではAndroid開発をしたことのない方には無用の長物です！**

### Specifications  
技術力のないガチガチのSIerが3日で作ったアプリです。  
「えーマジ単体テストなし！？ビッグバンテストが許されるのはUNIXエポック0秒までだよねー」という方はご遠慮ください。  

+ バックグラウンドサービスが3分ごとにGPSの座標を取得して、あらかじめ作成済みの座標ピンのリストをループでぶんまわす。
  - GPS更新時間を上書きする
  - 現在の座標から半径1キロ以内に座標ピンがあれば、到着時刻と最新の移動履歴を更新
+ 画面下のボタンを押したときにGPS更新時間と最新の移動履歴を表示
  - 直前の履歴と異なる場合、座標ピンの名称・走行距離・到着目標/到着時刻を表示
  - さらに `https://twitter.com/share?text=本文` のように平易なREST APIを呼び出してTwitterアプリと連動させる

### How to run
動かすためには、Android Studioが必要です。(Android Studio 2.3.3/JRE-1.8.0_112/Windows10 64bitで開発)  
また、Androidは7.1.1以上(Nougat)で動作確認しています。ターゲットフレームワークも同様です。  
おそらくある程度枯れたネイティブ機能のAPIのみ使っているはずですが、どのバージョンまで遡って動作するかは未検証です。  
  
座標ピンのリストはMyLocationListener.javaのソースに直書きしています。  
**このままでは拡張性が一切ないので、現バージョンの.apkの作成や配布は行いません。**

### Others
MainActivity.javaなどに、Twitter4jを使用しようとした残骸が残っています。  
エミュレータでは動作しましたが、実機で動作しなかったので自動ツイートを断念しています。  
  
フォークして開発したい場合は `build.gradle` に下記のようなコードを追加し、javaファイルのimportを適切に追加してください。  
この修正に関する質問は受け付けできれません。  

```
compile 'org.twitter4j:twitter4j-core:4.0.4'
compile 'org.twitter4j:twitter4j-async:4.0.4'
```
